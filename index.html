<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Homelessness NYC Awareness Project</title>
    <!-- Viewport meta tag for responsive design -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Link to external stylesheet (optional if you prefer inline styles) -->
    <style>
        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            background-color: #000; /* Black background */
            color: #ccc;            /* Light gray text */
            font-family: Arial, sans-serif;
            line-height: 1.6;
            overflow-x: hidden;     /* Prevent horizontal scroll */
        }
        /* Navigation styles */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background-color: #111; /* Slightly lighter black */
            z-index: 1000;
        }
        nav .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            flex-wrap: nowrap; /* Prevent items from wrapping */
            position: relative; /* Needed for absolute positioning of nav menu */
        }
        nav .logo {
            font-size: 1.5em;
            color: #ccc;
            white-space: nowrap; /* Prevent text from wrapping */
        }
        nav .logo a {
            color: #ccc;
            text-decoration: none;
        }
        nav .menu-icon {
            display: none;
            font-size: 1.5em;
            color: #ccc;
            cursor: pointer;
        }
        nav ul {
            list-style: none;
            display: flex;
        }
        nav ul li {
            margin: 0 15px;
        }
        nav ul li a {
            color: #ccc;
            text-decoration: none;
            font-size: 1em;
            transition: color 0.3s;
        }
        nav ul li a:hover {
            color: #fff;
        }
        /* Mobile styles */
        @media (max-width: 768px) {
            nav .menu-icon {
                display: block;
            }
            nav ul {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background-color: #111;
                flex-direction: column;
                align-items: center;
                z-index: 999; /* Ensure the menu appears above other elements */
            }
            nav ul.show {
                display: flex;
            }
            nav ul li {
                margin: 15px 0;
                text-align: center;
            }
            nav .logo {
                font-size: 1.2em; /* Reduce font size on mobile */
            }
            nav .nav-container {
                padding: 10px 15px; /* Reduce padding to save space */
            }
        }
        @media (max-width: 480px) {
            nav .logo {
                font-size: 1em; /* Further reduce font size on very small screens */
            }
            nav .nav-container {
                padding: 8px 10px; /* Further reduce padding */
            }
        }
        /* Header styles */
        .header {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 100px 20px 50px; /* Top padding accounts for fixed nav */
        }
        .header h1 {
            font-size: clamp(24px, 5vw, 48px);
            margin-bottom: 20px;
        }
        .header p {
            max-width: 800px;
            font-size: clamp(16px, 2.5vw, 24px);
            margin: 0 auto;
        }
        /* Section styles */
        section {
            padding: 80px 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        section h2 {
            font-size: clamp(22px, 4vw, 36px);
            margin-bottom: 20px;
            text-align: center;
            color: #fff;
        }
        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }
        /* Add these new styles */
        .movie-scroll {
            width: 100%;
            overflow-x: auto;
            padding: 20px 0;
            /* Hide scrollbar for IE, Edge and Firefox */
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        .movie-scroll::-webkit-scrollbar {
            display: none;
        }

        .movie-container {
            display: flex;
            gap: 20px;
            padding: 0 20px;
        }

        .movie-card {
            min-width: 200px;
            max-width: 200px;
            text-align: center;
            position: relative;
            cursor: pointer;
        }

        .movie-card img {
            width: 200px;
            height: 300px;
            object-fit: cover;
            border-radius: 8px;
        }

        .movie-info {
            margin-top: 10px;
            padding: 0 10px;
        }

        .movie-title {
            font-weight: bold;
            color: #fff;
            margin-bottom: 5px;
        }

        .movie-year {
            color: #888;
            margin-bottom: 8px;
        }

        .movie-description-preview {
            color: #888;
            font-size: 0.8em;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            line-height: 1.4;
        }

        .movie-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
            border-radius: 8px;
        }

        .movie-card:hover .movie-overlay {
            opacity: 1;
        }

        .movie-description {
            color: #fff;
            font-size: 0.9em;
            margin-bottom: 15px;
        }

        .movie-links {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .movie-link {
            padding: 5px 10px;
            background: #e50914;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-size: 0.8em;
        }

        .movie-link:hover {
            background: #f40612;
        }

        .show-title .movie-title {
            display: block;
        }

        .hide-title .movie-title {
            display: none;
        }

        .movie-section {
            position: relative;
            padding: 0 40px; /* Make room for navigation buttons */
        }

        .scroll-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }

        .scroll-btn:hover {
            background: rgba(0, 0, 0, 0.9);
        }

        .scroll-btn.left {
            left: 0;
        }

        .scroll-btn.right {
            right: 0;
        }

        /* Hide buttons when no scrolling is possible */
        .scroll-btn.hidden {
            display: none;
        }

        /* Add these new styles */
        .year-filter {
            display: flex;
            gap: 10px;
            margin: 20px 0;
            padding: 0 20px;
            flex-wrap: wrap;
        }

        .year-btn {
            padding: 5px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .year-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .year-btn.active {
            background: #e50914;
            border-color: #e50914;
        }

        .movie-card.hidden {
            display: none;
        }

        .statistics-container {
            overflow-x: auto;
            margin: 20px 0;
        }

        .statistics-table {
            width: 100%;
            border-collapse: collapse;
            background-color: #1a1a1a;
            color: #ccc;
            border-radius: 8px;
            overflow: hidden;
        }

        .statistics-table th,
        .statistics-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #333;
        }

        .statistics-table th {
            background-color: #2a2a2a;
            font-weight: bold;
            color: #fff;
        }

        .statistics-table tr:hover {
            background-color: #222;
        }

        .statistics-table tr:last-child td {
            border-bottom: none;
        }

        @media (max-width: 768px) {
            .statistics-table {
                font-size: 14px;
            }

            .statistics-table th,
            .statistics-table td {
                padding: 8px 10px;
            }
        }

        .insights-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            padding: 20px;
        }

        .insight-card {
            background-color: #111;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .insight-card h3 {
            color: #fff;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .insight-card p {
            color: #ccc;
            margin-bottom: 15px;
        }

        .insight-data {
            min-height: 200px;
            background-color: #1a1a1a;
            border-radius: 4px;
            padding: 15px;
        }

        @media (max-width: 768px) {
            .insights-container {
                grid-template-columns: 1fr;
            }
        }

        .insights-text-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .insight-text {
            margin-bottom: 40px;
            border-bottom: 1px solid #333;
            padding-bottom: 30px;
        }

        .insight-text:last-child {
            border-bottom: none;
        }

        .insight-text h3 {
            color: #fff;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .insight-text ul {
            color: #ccc;
            line-height: 1.8;
            font-size: 1.1em;
            padding-left: 25px;
        }

        .insight-text li {
            margin-bottom: 10px;
        }

        .insight-text li:last-child {
            margin-bottom: 0;
        }

        .interview-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            overflow: hidden;  /* Keep the shadow within rounded corners */
            background: #111;  /* Dark background for video loading state */
        }

        .video-wrapper video {
            display: block;  /* Remove any bottom spacing */
            width: 100%;
            height: auto;
            position: absolute;
            top: 0;
            left: 0;
            object-fit: cover;
            border-radius: 8px;
        }

        .interview-text {
            background-color: #111;
            padding: 30px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .interview-text h3 {
            color: #fff;
            font-size: 1.8em;
            margin-bottom: 10px;
        }

        .interview-date {
            color: #666;
            font-style: italic;
            margin-bottom: 20px;
        }

        .interview-description {
            color: #ccc;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .interview-highlights h4 {
            color: #fff;
            margin-bottom: 15px;
        }

        .interview-highlights ul {
            color: #ccc;
            padding-left: 20px;
        }

        .interview-highlights li {
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .interview-container {
                padding: 10px;
            }
            
            .interview-text {
                padding: 20px;
            }
        }

        .statistics-summary {
            text-align: center;
            padding: 20px;
            margin-top: 20px;
            font-size: 1.1em;
            color: #fff;
        }

        .graph-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #1a1a1a;
            border-radius: 8px;
        }

        .graph-container h3 {
            color: #fff;
            text-align: center;
            margin-bottom: 20px;
        }

        .data-graph {
            width: 100%;
            height: auto;
            max-width: 700px;
            display: block;
            margin: 0 auto;
        }

        .data-tables-container {
            display: flex;
            flex-direction: column;
            gap: 40px;
            max-width: 1000px;
            margin: 0 auto;
        }

        .graph-container {
            background-color: #1a1a1a;
            border-radius: 8px;
            padding: 20px;
        }

        .graph-container h3 {
            color: #fff;
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.2em;
        }

        .data-graph {
            width: 100%;
            height: auto;
            max-width: 700px;
            display: block;
            margin: 0 auto;
        }

        .state-data-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            overflow-x: auto;
        }

        .state-data-container .statistics-table {
            min-width: 800px;
            font-size: 0.9em;
        }

        .state-data-container .statistics-table td,
        .state-data-container .statistics-table th {
            padding: 8px 12px;
            text-align: center;
        }

        .state-data-container .statistics-table td:first-child {
            text-align: left;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .state-data-container {
                padding: 10px;
            }
            
            .state-data-container .statistics-table {
                font-size: 0.8em;
            }
        }

        /* Update scroll button styles to be more specific */
        .scroll-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }

        /* Make scroll buttons only visible within movie-section */
        .movie-section {
            position: relative;
            padding: 0 40px; /* Make room for navigation buttons */
        }

        /* Ensure scroll buttons are properly positioned relative to their sections */
        .movie-section .scroll-btn.left {
            left: 0;
        }

        .movie-section .scroll-btn.right {
            right: 0;
        }

        /* Hide buttons when no scrolling is possible */
        .scroll-btn.hidden {
            display: none;
        }

        .count {
            font-size: 0.8em;
            color: #888;
        }

        /* Add this new style for the count */
        .year-btn .count {
            color: #666;  /* Less pronounced gray color */
            opacity: 0.8; /* Slightly transparent */
        }

        /* Update the hover state to maintain the count color */
        .year-btn:hover .count {
            color: #888;  /* Slightly lighter gray on hover */
        }

        /* Keep the count color consistent when button is active */
        .year-btn.active .count {
            color: #888;
        }

        /* Root causes table styles - basic version */
        #questions {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 20px;
        }

        #questions .statistics-container {
            overflow-x: auto;
            margin: 20px auto;
            width: 100%;
            max-width: 1200px;
        }

        #questions .statistics-table {
            width: 100%;
            min-width: 800px;
            table-layout: fixed;
        }

        /* Column widths */
        #questions .statistics-table th:nth-child(1) { width: 4%; }  /* # */
        #questions .statistics-table th:nth-child(2) { width: 15%; } /* factor */
        #questions .statistics-table th:nth-child(3) { width: 8%; }  /* percent */
        #questions .statistics-table th:nth-child(4) { width: 28%; } /* ranking support */
        #questions .statistics-table th:nth-child(5) { width: 15%; } /* snapshot */
        #questions .statistics-table th:nth-child(6) { width: 30%; } /* in simple words */

        /* Basic responsive adjustments */
        @media (max-width: 1200px) {
            #questions .statistics-container {
                max-width: 90%;
            }
        }

        /* Description text styling */
        #questions .statistics-summary {
            max-width: 1200px;
            width: 90%;
            margin: 0 auto 30px;
        }

        /* HUD awards table styles */
        #hud-awards {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 20px;
            margin-bottom: 60px;  /* Add space after HUD awards section */
        }

        #hud-awards .statistics-container {
            overflow-x: auto;
            margin: 20px auto;
            width: 100%;
            max-width: 1200px;
        }

        #hud-awards .statistics-table {
            width: 100%;
            min-width: 800px;
            table-layout: fixed;
        }

        /* Column widths */
        #hud-awards .statistics-table th:nth-child(1) { width: 5%; }   /* # */
        #hud-awards .statistics-table th:nth-child(2) { width: 28%; }  /* reality_check - reduced from 35% to 28% */
        #hud-awards .statistics-table th:nth-child(3) { width: 60%; }  /* data_message */

        /* Add word-wrap for table cells */
        #hud-awards .statistics-table td {
            word-wrap: break-word;
            overflow-wrap: break-word;
            padding: 10px;
        }

        /* Update HUD awards description styling */
        #hud-awards .statistics-summary {
            max-width: 1200px;
            width: 90%;
            margin: 0 auto 30px;
            padding: 0;
        }

        /* Basic responsive adjustments */
        @media (max-width: 1200px) {
            #hud-awards .statistics-container,
            #hud-awards .statistics-summary {
                max-width: 90%;
            }
        }

        @media (max-width: 768px) {
            #hud-awards .statistics-container,
            #hud-awards .statistics-summary {
                width: 100%;
                padding: 0 10px;
            }
        }

        /* Add styles for the data source reference */
        #hud-awards .data-source-reference {
            max-width: 1200px;
            width: 90%;
            margin: 20px auto 0;
            padding: 0;
            font-size: 0.9em;
            color: #888;
        }

        #hud-awards .data-source-reference a {
            color: #4a9eff;
            text-decoration: none;
        }

        #hud-awards .data-source-reference a:hover {
            text-decoration: underline;
        }

        /* Include the data source reference in responsive adjustments */
        @media (max-width: 1200px) {
            #hud-awards .statistics-container,
            #hud-awards .statistics-summary,
            #hud-awards .data-source-reference {
                max-width: 90%;
            }
        }

        @media (max-width: 768px) {
            #hud-awards .statistics-container,
            #hud-awards .statistics-summary,
            #hud-awards .data-source-reference {
                width: 100%;
                padding: 0 10px;
            }
        }

        /* NYC homeless table styles */
        #nyc-homeless {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 20px;
        }

        #nyc-homeless .statistics-container {
            overflow-x: auto;
            margin: 20px auto;
            width: 100%;
            max-width: 1200px;
        }

        #nyc-homeless .statistics-table {
            width: 100%;
            min-width: 800px;
            table-layout: fixed;
        }

        #nyc-homeless .statistics-summary {
            max-width: 1200px;
            width: 90%;
            margin: 0 auto 30px;
            padding: 0;
        }

        @media (max-width: 1200px) {
            #nyc-homeless .statistics-container,
            #nyc-homeless .statistics-summary {
                max-width: 90%;
            }
        }

        @media (max-width: 768px) {
            #nyc-homeless .statistics-container,
            #nyc-homeless .statistics-summary {
                width: 100%;
                padding: 0 10px;
            }
        }

        /* NYC homeless table column widths */
        #nyc-homeless .statistics-table th:nth-child(1) { width: 45%; }  /* shelter_system */
        #nyc-homeless .statistics-table th:nth-child(2) { width: 25%; }  /* approximate_population */
        #nyc-homeless .statistics-table th:nth-child(3) { width: 30%; }  /* source */

        /* Style the source links */
        #nyc-homeless .statistics-table a {
            color: #4a9eff;
            text-decoration: none;
        }

        #nyc-homeless .statistics-table a:hover {
            text-decoration: underline;
        }

        /* NYC categories table styles */
        #nyc-categories {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 20px;
        }

        #nyc-categories .statistics-container {
            overflow-x: auto;
            margin: 20px auto;
            width: 100%;
            max-width: 1200px;
        }

        #nyc-categories .statistics-table {
            width: 100%;
            min-width: 800px;
            table-layout: fixed;
        }

        #nyc-categories .statistics-summary {
            max-width: 1200px;
            width: 90%;
            margin: 0 auto 30px;
            padding: 0;
        }

        /* Column widths */
        #nyc-categories .statistics-table th:nth-child(1) { width: 25%; } /* category */
        #nyc-categories .statistics-table th:nth-child(2) { width: 15%; } /* estimated_number */
        #nyc-categories .statistics-table th:nth-child(3) { width: 15%; } /* percentage */
        #nyc-categories .statistics-table th:nth-child(4) { width: 30%; } /* estimation_method */
        #nyc-categories .statistics-table th:nth-child(5) { width: 15%; } /* sources */

        /* Style the source links */
        #nyc-categories .statistics-table a {
            color: #4a9eff;
            text-decoration: none;
            margin-right: 10px;
        }

        #nyc-categories .statistics-table a:hover {
            text-decoration: underline;
        }

        /* NYC timeline table styles */
        #nyc-timeline {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 20px;
        }

        #nyc-timeline .statistics-container {
            overflow-x: auto;
            margin: 20px auto;
            width: 100%;
            max-width: 1200px;
        }

        #nyc-timeline .statistics-table {
            width: 100%;
            min-width: 800px;
            table-layout: fixed;
        }

        #nyc-timeline .statistics-summary {
            max-width: 1200px;
            width: 90%;
            margin: 0 auto 30px;
            padding: 0;
        }

        /* Column widths */
        #nyc-timeline .statistics-table th:nth-child(1) { width: 8%; }  /* year */
        #nyc-timeline .statistics-table th:nth-child(2) { width: 15%; } /* approximate_population */
        #nyc-timeline .statistics-table th:nth-child(3) { width: 12%; } /* percent_change */
        #nyc-timeline .statistics-table th:nth-child(4) { width: 50%; } /* key_factors */
        #nyc-timeline .statistics-table th:nth-child(5) { width: 15%; } /* sources */

        /* Style the source links */
        #nyc-timeline .statistics-table a {
            color: #4a9eff;
            text-decoration: none;
            margin-right: 10px;
        }

        #nyc-timeline .statistics-table a:hover {
            text-decoration: underline;
        }

        /* TO-DO section styles */
        #todo {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 20px;
        }

        #todo h2 {
            text-align: center;
            margin-bottom: 30px;
        }

        #todo .todo-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* TO-DO section description styles */
        #todo .todo-description {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 40px;
            line-height: 1.6;
        }

        #todo .todo-description p {
            margin-bottom: 15px;
            font-size: 1.1em;
            color: #fff;
        }

        #todo .todo-description p:first-child {
            font-size: 1.3em;
            font-weight: 500;
            margin-bottom: 20px;
        }

        /* Basic responsive adjustments */
        @media (max-width: 1200px) {
            #todo .todo-content {
                max-width: 90%;
            }
        }

        @media (max-width: 768px) {
            #todo {
                padding: 0 10px;
            }
            
            #todo .todo-content {
                padding: 10px;
            }
        }

        /* Soup kitchen table styles */
        #todo .statistics-container {
            overflow-x: auto;
            margin: 20px auto;
            width: 100%;
            max-width: 1200px;
        }

        #todo .statistics-table {
            width: 100%;
            min-width: 800px;
            table-layout: fixed;
        }

        /* Column widths */
        #todo .statistics-table th:nth-child(1) { width: 25%; } /* location (name + borough) */
        #todo .statistics-table th:nth-child(2) { width: 45%; } /* contact (address + phone + volunteer) */
        #todo .statistics-table th:nth-child(3) { width: 30%; } /* notes (days + notes) */

        /* Style the volunteer links */
        #todo .statistics-table a {
            color: #4a9eff;
            text-decoration: none;
        }

        #todo .statistics-table a:hover {
            text-decoration: underline;
        }

        /* Food help images container */
        .food-help-images {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin: 30px 0;
            width: 100%;
        }

        .food-help-images img {
            width: calc(33.333% - 14px);  /* Equal width minus gap spacing */
            height: auto;
            object-fit: cover;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .food-help-images {
                flex-direction: column;
                gap: 15px;
            }
            
            .food-help-images img {
                width: 100%;
            }
        }

        /* Causes image and credit styles */
        .causes-image-container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }

        .causes-image {
            width: 100%;
            height: auto;
            display: block;
            margin-bottom: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .image-credit {
            text-align: left;
            font-size: 0.9em;
            color: #888;
            line-height: 1.4;
        }

        .image-credit p {
            margin: 0;
        }

        .image-credit a {
            color: #4a9eff;
            text-decoration: none;
        }

        .image-credit a:hover {
            text-decoration: underline;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .causes-image-container {
                padding: 0 10px;
            }
        }

        /* HUD awards section with image layout */
        .hud-content-wrapper {
            display: flex;
            gap: 30px;
            align-items: flex-start;
            margin: 0 auto;
        }

        .hud-image-container {
            flex: 0 0 30%;  /* Keep image container at 30% */
        }

        .hud-side-image {
            width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .hud-image-container .image-credit {
            margin-top: 10px;
            font-size: 0.9em;
            color: #888;
            line-height: 1.4;
        }

        .hud-image-container .image-credit p {
            margin: 0;
        }

        .hud-content-wrapper .statistics-table {
            flex: 0 0 60%;  /* Keep the table width at 70% of container */
            margin: 0;
            min-width: 0;
            width: 100%;
            table-layout: auto;  /* Keep auto layout for flexible data message column */
        }

        /* Update column widths - make first two columns smaller */
        #hud-awards .statistics-table th:nth-child(1) { width: 5%; }   /* # */
        #hud-awards .statistics-table th:nth-child(2) { width: 20%; }  /* reality_check - reduced from 35% to 28% */
        /* Remove fixed width for the data_message column to allow it to adjust naturally */

        /* Add word-wrap for table cells */
        #hud-awards .statistics-table td {
            word-wrap: break-word;
            overflow-wrap: break-word;
            padding: 10px;
        }

        /* Responsive adjustments */
        @media (max-width: 1200px) {
            .hud-content-wrapper {
                flex-direction: column;
            }
            
            .hud-image-container {
                width: 100%;
                max-width: 300px;
                margin-bottom: 30px;
            }
            
            .hud-content-wrapper .statistics-table {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Menu -->
    <nav>
        <div class="nav-container">
            <div class="logo"><a href="#top">Homelessness NYC</a></div>
            <div class="menu-icon" onclick="toggleMenu()">&#9776;</div>
            <ul id="nav-menu">
                <li><a href="#todo">TO-DO</a></li>
                <li><a href="#questions">Questions</a></li>
                <li><a href="#interviews">Interviews</a></li>
                <li><a href="#movies">Movies</a></li>
                <li><a href="#books">Books</a></li>
            </ul>
        </div>
    </nav>

    <!-- Header Section -->
    <header class="header" id="top">
        <!--<h1>Welcome to Homelessness NYC Awareness</h1>-->
        <h1>This isn't just about learning. It's about showing up.</h1>
        <!--<p>
            Our mission is to bring awareness to homelessness in New York City, especially within the youth community.
            This platform will feature a wealth of resources including movies, documentaries, books, shelter locations & soup kitchens,
            and photographs. Join us in understanding and combating homelessness in our city.
        </p>-->
        <p>Homelessness isn't just something you hear about — it's happening right here, in our neighborhoods, to people our age, to families that used to live next door.

            This site was built to help you really see what's going on — not just headlines. We break it down with real numbers, real questions, real stories, and ways you can step in.
            Our mission is to bring awareness to homelessness in New York City, especially within the youth community.
            This platform will feature a wealth of resources including movies, documentaries, books, shelter locations & soup kitchens,
            and photographs. Join us in understanding and combating homelessness in our city.
        </p>
    </header>

    <section id="todo">
        <h2>TO-DO: How You Can Help Fight Homelessness in New York City</h2>
        <div class="todo-content">
            <div class="todo-description">
                <p>When policies fall short, people step forward.</p>
                <p>This section gives you real ways to take action — volunteer, donate, or join organizations making an immediate difference for homeless New Yorkers. Every step matters.
                </p>
            </div>
            <div class="statistics-summary">
                
                <div class="food-help-images">
                    <img src="assets/images/food-help-01.jpg" alt="Food Help Image 1">
                    <img src="assets/images/food-help-02.jpg" alt="Food Help Image 2">
                    <img src="assets/images/food-help-03.jpg" alt="Food Help Image 3">
                </div>
            </div>
            <div style="text-align: left; margin-top: 10px;">
                <a href="https://finder.nyc.gov/foodhelp/locations?mView=map" 
                   target="_blank" 
                   rel="noopener noreferrer">
                    Food Help NYC Map (nyc.gov) 
                </a>
                The Food Help NYC Map is an interactive tool provided by the NYC Human Resources Administration (HRA) that helps residents locate nearby food pantries and community kitchens across the five boroughs. Users can search by address or zip code to find locations offering free groceries or hot meals, along with details such as operating hours, contact information, and eligibility requirements. This resource is part of the city's efforts to combat food insecurity and ensure that all New Yorkers have access to nutritious food options. 
            </div>
        <div class="statistics-container">
                <p id="soup-kitchen-description"></p>
                <table id="soup-kitchen-table" class="statistics-table">
                <thead>
                    <tr>
                            <!-- Headers will be populated by JavaScript -->
                    </tr>
                </thead>
                <tbody>
                    <!-- Data will be populated by JavaScript -->
                </tbody>
            </table>
        </div>
        </div>
    </section>

    <section id="questions">
        <h2>Root Causes of Homelessness</h2>
        <div class="causes-image-container">
            <img src="assets/images/10-causes-of-homelessness.jpg" alt="10 Causes of Homelessness Infographic" class="causes-image">
            <div class="image-credit">
                <p>Image Credit:</p>
                <p>"10 Causes of Homelessness" infographic by Portland Rescue Mission.</p>
                <p>Used with respect to educational and awareness purposes.</p>
                <p>© Portland Rescue Mission. <a href="https://portlandrescuemission.org/news/uncategorized/infographic-10-causes-of-homelessness/" target="_blank">Source</a></p>
            </div>
        </div>
        <div class="statistics-summary">
            <p id="root-causes-description"></p>
        </div>
        <div class="statistics-container">
            <table id="root-causes-table" class="statistics-table">
                <thead>
                    <tr>
                        <!-- Headers will be populated by JavaScript -->
                    </tr>
                </thead>
                <tbody>
                    <!-- Data will be populated by JavaScript -->
                </tbody>
            </table>
        </div>
    </section>

    <section id="hud-awards">
        <h2>HUD Awards Reality Check</h2>
        <div class="statistics-summary">
            <p id="hud-awards-description"></p>
        </div>
        <div class="statistics-container">
            <div class="hud-content-wrapper">
                <div class="hud-image-container">
                    <img src="assets/images/affordable-housing-gap.jpg" alt="Income Housing Gap Chart" class="hud-side-image">
                    <div class="image-credit">
                        <p>Image Credit:</p>
                        <p>"The Increasing Income-Housing Gap in America" by Visual Capitalist</p>
                        <p>© Visual Capitalist. <a href="https://www.visualcapitalist.com/" target="_blank">Source</a></p>
                    </div>
                </div>
                <table id="hud-awards-table" class="statistics-table">
                    <thead>
                        <tr>
                            <!-- Headers will be populated by JavaScript -->
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Data will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <section id="nyc-homeless">
        <h2>NYC Homeless Population by Department</h2>
        <div class="statistics-summary">
            <p id="nyc-homeless-description"></p>
            </div>
        <div class="statistics-container">
            <table id="nyc-homeless-table" class="statistics-table">
                <thead>
                    <tr>
                        <!-- Headers will be populated by JavaScript -->
                    </tr>
                </thead>
                <tbody>
                    <!-- Data will be populated by JavaScript -->
                </tbody>
            </table>
        </div>
    </section>

    <!-- Add this after the NYC homeless section -->
    <section id="nyc-categories">
        <h2>How the Homeless Population in New York City Breaks Down</h2>
        <div class="statistics-summary">
            <p id="nyc-categories-description"></p>
            </div>
        <div class="statistics-container">
            <table id="nyc-categories-table" class="statistics-table">
                <thead>
                    <tr>
                        <!-- Headers will be populated by JavaScript -->
                    </tr>
                </thead>
                <tbody>
                    <!-- Data will be populated by JavaScript -->
                </tbody>
            </table>
        </div>
    </section>

    <!-- Add this after the NYC categories section -->
    <section id="nyc-timeline">
        <h2>How We Ended Up With 120,000 Homeless in NYC: A Look at the History</h2>
        <div class="statistics-summary">
            <p id="nyc-timeline-description"></p>
            </div>
        <div class="statistics-container">
            <table id="nyc-timeline-table" class="statistics-table">
                <thead>
                    <tr>
                        <!-- Headers will be populated by JavaScript -->
                    </tr>
                </thead>
                <tbody>
                    <!-- Data will be populated by JavaScript -->
                </tbody>
            </table>
        </div>
    </section>

    <section id="interviews">
        <h2>Featured Interview</h2>
        <div class="interview-container">
            <div class="video-wrapper">
                <video 
                    width="100%" 
                    height="500" 
                    controls
                    preload="auto">
                    <source src="/assets/videos/output.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
            </div>
            <div class="interview-text">
                <h3>Village Temple Soup Kitchen Volunteers</h3>
                <p class="interview-date">Recorded: January 2025</p>
                <div class="interview-description">
                    <p>An inside look into the hard working and dedicated volunteers at the Village Temple Soup Kitchen who provide new perspectives on the homelessness situation in New York.</p>
                </div>
                <div class="interview-highlights">
                    <h4>Key Points:</h4>
                    <ul>
                        <li>Stories from dedicated volunteers</li>
                        <li>Changes in the Soup Kitchen throughout the years</li>
                        <li>Impact on the local homeless community</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="movies">
        <h2>Movies</h2>
        <div class="movie-section">
        <div class="year-filter" id="yearFilter">
            <button class="year-btn active" data-year="all">All</button>
            <!-- Years will be added here dynamically -->
        </div>
        <button class="scroll-btn left" id="scrollLeft">←</button>
        <button class="scroll-btn right" id="scrollRight">→</button>
        <div class="movie-scroll">
            <div id="movie-container" class="movie-container">
                <!-- Movies will be loaded here dynamically -->
                </div>
            </div>
        </div>
    </section>

    <section id="books">
        <h2>Books</h2>
        <div class="movie-section">
        <div class="year-filter" id="bookYearFilter">
            <button class="year-btn active" data-year="all">All</button>
            <!-- Years will be added here dynamically -->
        </div>
        <button class="scroll-btn left" id="bookScrollLeft">←</button>
        <button class="scroll-btn right" id="bookScrollRight">→</button>
        <div class="movie-scroll">
            <div id="book-container" class="movie-container">
                <!-- Books will be loaded here dynamically -->
                </div>
            </div>
        </div>
    </section>

    <!-- JavaScript for the menu toggle -->
    <script>
        function toggleMenu() {
            var menu = document.getElementById('nav-menu');
            menu.classList.toggle('show');
        }

        // Close menu when a link is clicked (for better UX on mobile)
        var navLinks = document.querySelectorAll('nav ul li a');
        navLinks.forEach(function(link) {
            link.addEventListener('click', function() {
                var menu = document.getElementById('nav-menu');
                menu.classList.remove('show');
            });
        });

        // Update the movie loading function to include movie counts per year
        async function loadMovies() {
            try {
                const response = await fetch('/assets/data/movies.json');
                const data = await response.json();
                
                // Sort movies by year (oldest to newest)
                const sortedMovies = data.movies.sort((a, b) => a.year - b.year);
                
                // Update the section title with movie count
                const movieSection = document.getElementById('movies');
                const titleElement = movieSection.querySelector('h2');
                titleElement.textContent = `Movies (${sortedMovies.length})`;
                
                // Get unique years and count movies per year
                const yearCounts = sortedMovies.reduce((acc, movie) => {
                    acc[movie.year] = (acc[movie.year] || 0) + 1;
                    return acc;
                }, {});
                
                const years = [...new Set(sortedMovies.map(movie => movie.year))].sort();
                const yearFilter = document.getElementById('yearFilter');
                
                // Clear existing buttons first
                yearFilter.innerHTML = `<button class="year-btn active" data-year="all">All <span class="count">(${sortedMovies.length})</span></button>`;
                
                years.forEach(year => {
                    const yearBtn = document.createElement('button');
                    yearBtn.className = 'year-btn';
                    yearBtn.innerHTML = `${year} <span class="count">(${yearCounts[year]})</span>`;
                    yearBtn.dataset.year = year.toString();
                    yearFilter.appendChild(yearBtn);
                });
                
                const container = document.getElementById('movie-container');
                container.innerHTML = ''; // Clear existing content
                
                // Create movie cards
                sortedMovies.forEach(movie => {
                    const movieCard = document.createElement('div');
                    movieCard.className = `movie-card ${movie.hideTitleOverlay ? 'hide-title' : 'show-title'}`;
                    movieCard.dataset.year = movie.year.toString(); // Ensure year is string
                    
                    movieCard.innerHTML = `
                        <img src="${movie.imageUrl}" alt="${movie.title}">
                        <div class="movie-info">
                            <div class="movie-title">${movie.title}</div>
                            <div class="movie-year">${movie.year}</div>
                            <div class="movie-description-preview">${movie.description}</div>
                        </div>
                        <div class="movie-overlay">
                            <div class="movie-description">${movie.description}</div>
                            <div class="movie-links">
                                ${movie.imdbUrl ? `
                                    <a href="${movie.imdbUrl}" target="_blank" class="movie-link">IMDb</a>
                                ` : ''}
                                ${movie.libraryUrl ? `
                                    <a href="${movie.libraryUrl}" target="_blank" class="movie-link">Library</a>
                                ` : ''}
                            </div>
                        </div>
                    `;
                    
                    container.appendChild(movieCard);
                });

                // Add click handlers for year filters
                document.querySelectorAll('.year-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        // Remove active class from all buttons
                        document.querySelectorAll('.year-btn').forEach(b => 
                            b.classList.remove('active')
                        );
                        // Add active class to clicked button
                        e.target.classList.add('active');
                        
                        const selectedYear = e.target.dataset.year;
                        console.log('Selected year:', selectedYear); // Debug log
                        
                        document.querySelectorAll('.movie-card').forEach(card => {
                            if (
                                card.dataset.year === selectedYear ||
                                selectedYear === 'all'
                            ) {
                                card.style.display = '';
                            } else {
                                card.style.display = 'none';
                            }
                        });
                    });
                });

                initializeScrollButtons();
            } catch (error) {
                console.error('Error loading movies:', error);
                document.getElementById('movie-container').innerHTML = 
                    '<p>Error loading movies. Please try again later.</p>';
            }
        }

        // Load movies when the page loads
        document.addEventListener('DOMContentLoaded', loadMovies);

        function initializeScrollButtons() {
            const scrollContainer = document.querySelector('.movie-scroll');
            const leftBtn = document.getElementById('scrollLeft');
            const rightBtn = document.getElementById('scrollRight');
            
            // Scroll amount for each click (adjust as needed)
            const scrollAmount = 400;

            // Update button visibility
            function updateScrollButtons() {
                const isAtStart = scrollContainer.scrollLeft === 0;
                const isAtEnd = scrollContainer.scrollLeft + scrollContainer.clientWidth >= scrollContainer.scrollWidth;
                
                leftBtn.classList.toggle('hidden', isAtStart);
                rightBtn.classList.toggle('hidden', isAtEnd);
            }

            // Scroll left
            leftBtn.addEventListener('click', () => {
                scrollContainer.scrollBy({
                    left: -scrollAmount,
                    behavior: 'smooth'
                });
            });

            // Scroll right
            rightBtn.addEventListener('click', () => {
                scrollContainer.scrollBy({
                    left: scrollAmount,
                    behavior: 'smooth'
                });
            });

            // Listen for scroll events to update button visibility
            scrollContainer.addEventListener('scroll', updateScrollButtons);
        }

        // Add this to your existing JavaScript
        initializeScrollButtons();

        async function loadBooks() {
            try {
                const response = await fetch('/assets/data/books.json');
                const data = await response.json();
                
                const sortedBooks = data.books.sort((a, b) => a.year - b.year);
                
                const bookSection = document.getElementById('books');
                const titleElement = bookSection.querySelector('h2');
                titleElement.textContent = `Books (${sortedBooks.length})`;
                
                // Get unique years and count books per year
                const yearCounts = sortedBooks.reduce((acc, book) => {
                    acc[book.year] = (acc[book.year] || 0) + 1;
                    return acc;
                }, {});
                
                const years = [...new Set(sortedBooks.map(book => book.year))].sort();
                const bookYearFilter = document.getElementById('bookYearFilter');
                
                // Clear existing buttons first
                bookYearFilter.innerHTML = `<button class="year-btn active" data-year="all">All <span class="count">(${sortedBooks.length})</span></button>`;
                
                years.forEach(year => {
                    const yearBtn = document.createElement('button');
                    yearBtn.className = 'year-btn';
                    yearBtn.innerHTML = `${year} <span class="count">(${yearCounts[year]})</span>`;
                    yearBtn.dataset.year = year.toString();
                    bookYearFilter.appendChild(yearBtn);
                });
                
                const container = document.getElementById('book-container');
                container.innerHTML = ''; // Clear existing content
                
                // Create book cards
                sortedBooks.forEach(book => {
                    const bookCard = document.createElement('div');
                    bookCard.className = `movie-card ${book.hideTitleOverlay ? 'hide-title' : 'show-title'}`;
                    bookCard.dataset.year = book.year.toString(); // Ensure year is string
                    
                    bookCard.innerHTML = `
                        <img src="${book.imageUrl}" alt="${book.title}">
                        <div class="movie-info">
                            <div class="movie-title">${book.title}</div>
                            <div class="movie-year">${book.year}</div>
                            <div class="movie-description-preview">${book.description}</div>
                        </div>
                        <div class="movie-overlay">
                            <div class="movie-description">${book.description}</div>
                            <div class="movie-links">
                                ${book.libraryBookUrl ? `
                                    <a href="${book.libraryBookUrl}" target="_blank" class="movie-link">Book</a>
                                ` : ''}
                                ${book.libraryUrl ? `
                                    <a href="${book.libraryUrl}" target="_blank" class="movie-link">Audio</a>
                                ` : ''}
                            </div>
                        </div>
                    `;
                    
                    container.appendChild(bookCard);
                });

                // Add click handlers for year filters
                document.querySelectorAll('.year-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        // Remove active class from all buttons
                        document.querySelectorAll('.year-btn').forEach(b => 
                            b.classList.remove('active')
                        );
                        // Add active class to clicked button
                        e.target.classList.add('active');
                        
                        const selectedYear = e.target.dataset.year;
                        console.log('Selected year:', selectedYear); // Debug log
                        
                        document.querySelectorAll('.movie-card').forEach(card => {
                            if (
                                card.dataset.year === selectedYear ||
                                selectedYear === 'all'
                            ) {
                                card.style.display = '';
                            } else {
                                card.style.display = 'none';
                            }
                        });
                    });
                });

                initializeBookScrollButtons();
            } catch (error) {
                console.error('Error loading books:', error);
                document.getElementById('book-container').innerHTML = 
                    '<p>Error loading books. Please try again later.</p>';
            }
        }

        // Load books when the page loads
        document.addEventListener('DOMContentLoaded', loadBooks);

        function initializeBookScrollButtons() {
            const scrollContainer = document.querySelector('.movie-scroll');
            const leftBtn = document.getElementById('bookScrollLeft');
            const rightBtn = document.getElementById('bookScrollRight');
            
            // Scroll amount for each click (adjust as needed)
            const scrollAmount = 400;

            // Update button visibility
            function updateScrollButtons() {
                const isAtStart = scrollContainer.scrollLeft === 0;
                const isAtEnd = scrollContainer.scrollLeft + scrollContainer.clientWidth >= scrollContainer.scrollWidth;
                
                leftBtn.classList.toggle('hidden', isAtStart);
                rightBtn.classList.toggle('hidden', isAtEnd);
            }

            // Scroll left
            leftBtn.addEventListener('click', () => {
                scrollContainer.scrollBy({
                    left: -scrollAmount,
                    behavior: 'smooth'
                });
            });

            // Scroll right
            rightBtn.addEventListener('click', () => {
                scrollContainer.scrollBy({
                    left: scrollAmount,
                    behavior: 'smooth'
                });
            });

            // Listen for scroll events to update button visibility
            scrollContainer.addEventListener('scroll', updateScrollButtons);
        }

        // Add this to your existing JavaScript
        initializeBookScrollButtons();

        // Add this function to load the statistics
        async function loadStatistics() {
            try {
                const response = await fetch('/assets/data/homeless-state-statistics.json');
                const data = await response.json();
                
                const tbody = document.querySelector('#homeless-statistics tbody');
                tbody.innerHTML = ''; // Clear existing content
                
                data.homelessStatistics.data.forEach(item => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${item.rank}</td>
                        <td>${item.state}</td>
                        <td>${item.estimatedHomelessPopulation}</td>
                    `;
                    tbody.appendChild(row);
                });
            } catch (error) {
                console.error('Error loading statistics:', error);
                document.querySelector('#homeless-statistics tbody').innerHTML = 
                    '<tr><td colspan="3">Error loading statistics. Please try again later.</td></tr>';
            }
        }

        // Add this new function to your JavaScript section
        async function loadRootCauses() {
            try {
                const response = await fetch('/assets/data/root-cause-list.json');
                const data = await response.json();
                
                // Update title and description
                const rootCausesSection = document.getElementById('questions');
                const titleElement = rootCausesSection.querySelector('h2');
                titleElement.textContent = data.title || 'Root Causes of Homelessness';
                
                const descriptionElement = document.getElementById('root-causes-description');
                descriptionElement.textContent = data.description || '';
                
                // Get the table elements
                const thead = document.querySelector('#root-causes-table thead tr');
                const tbody = document.querySelector('#root-causes-table tbody');
                
                // Clear existing content
                thead.innerHTML = '';
                tbody.innerHTML = '';
                
                // Add headers (excluding the sources column)
                data.headers.slice(0, -1).forEach(header => {
                    const th = document.createElement('th');
                    th.textContent = header;
                    thead.appendChild(th);
                });
                
                // Add rows
                data.rows.forEach(rowData => {
                    const tr = document.createElement('tr');
                    
                    [
                        rowData.rank,
                        rowData.factor,
                        rowData.percent_of_homeless,
                        rowData.ranking_support,
                        rowData.snapshot,
                        rowData.in_simple_words,
                    ].forEach((cellData, index) => {
                        const td = document.createElement('td');
                        if (index === 3 && rowData.sources) {
                            td.innerHTML = `${cellData} ` + 
                                (rowData.sources.length > 0 ? 
                                    rowData.sources.map((url, idx) => 
                                        `<a href="${url}" target="_blank">source ${idx + 1}</a>`
                                    ).join(', ') 
                                : '');
                        } else {
                            td.textContent = cellData || '-';
                        }
                        tr.appendChild(td);
                    });
                    tbody.appendChild(tr);
                });
            } catch (error) {
                console.error('Error loading root causes:', error);
                const descriptionElement = document.getElementById('root-causes-description');
                descriptionElement.textContent = 'Error loading data. Please try again later.';
                
                document.querySelector('#root-causes-table tbody').innerHTML = 
                    '<tr><td colspan="6">Error loading data. Please try again later.</td></tr>';
            }
        }

        async function loadHUDAwards() {
            try {
                const response = await fetch('/assets/data/hud-awards-reality-check.json');
                const data = await response.json();
                
                // Update title and description
                const hudAwardsSection = document.getElementById('hud-awards');
                const titleElement = hudAwardsSection.querySelector('h2');
                titleElement.textContent = data.title;
                
                const descriptionElement = document.getElementById('hud-awards-description');
                descriptionElement.textContent = data.description;
                
                // Get the table elements
                const thead = document.querySelector('#hud-awards-table thead tr');
                const tbody = document.querySelector('#hud-awards-table tbody');
                
                // Clear existing content
                thead.innerHTML = '';
                tbody.innerHTML = '';
                
                // Add headers (excluding the sources)
                data.headers.slice(0, -1).forEach(header => {
                    const th = document.createElement('th');
                    th.textContent = header.replace(/_/g, ' ')
                                       .split(' ')
                                       .map(word => word.charAt(0).toUpperCase() + word.slice(1))
                                       .join(' ');
                    thead.appendChild(th);
                });
                
                // Add rows
                data.rows.forEach(rowData => {
                    const tr = document.createElement('tr');
                    
                    // Combine data_message with sources
                    const dataMessageWithSources = `${rowData.data_message} ` + 
                        rowData.sources.map(source => 
                            `<a href="${source.url}" target="_blank">source</a>`
                        ).join(', ');
                    
                    [
                        rowData.rank,
                        rowData.reality_check,
                        dataMessageWithSources
                    ].forEach((cellData) => {
                        const td = document.createElement('td');
                        td.innerHTML = cellData;
                        tr.appendChild(td);
                    });
                    tbody.appendChild(tr);
                });
            } catch (error) {
                console.error('Error loading HUD awards data:', error);
                document.querySelector('#hud-awards-table tbody').innerHTML = 
                    '<tr><td colspan="3">Error loading data. Please try again later.</td></tr>';
            }
        }

        async function loadNYCHomeless() {
            try {
                const response = await fetch('/assets/data/nyc-homeless-by-dep.json');
                const data = await response.json();
                
                // Update title and description
                const nycHomelessSection = document.getElementById('nyc-homeless');
                const titleElement = nycHomelessSection.querySelector('h2');
                titleElement.textContent = data.title;
                
                const descriptionElement = document.getElementById('nyc-homeless-description');
                descriptionElement.textContent = data.description;
                
                // Get the table elements
                const thead = document.querySelector('#nyc-homeless-table thead tr');
                const tbody = document.querySelector('#nyc-homeless-table tbody');
                
                // Clear existing content
                thead.innerHTML = '';
                tbody.innerHTML = '';
                
                // Add headers
                data.headers.forEach(header => {
                    const th = document.createElement('th');
                    th.textContent = header.replace(/_/g, ' ')
                                       .split(' ')
                                       .map(word => word.charAt(0).toUpperCase() + word.slice(1))
                                       .join(' ');
                    thead.appendChild(th);
                });
                
                // Add rows
                data.rows.forEach(rowData => {
                    const tr = document.createElement('tr');
                    
                    [
                        rowData.shelter_system,
                        rowData.approximate_population.toLocaleString(),
                        `<a href="${rowData.source_url}" target="_blank">${rowData.source_text}</a>`
                    ].forEach(cellData => {
                        const td = document.createElement('td');
                        td.innerHTML = cellData;
                        tr.appendChild(td);
                    });
                    tbody.appendChild(tr);
                });
            } catch (error) {
                console.error('Error loading NYC homeless data:', error);
                document.querySelector('#nyc-homeless-table tbody').innerHTML = 
                    '<tr><td colspan="3">Error loading data. Please try again later.</td></tr>';
            }
        }

        async function loadNYCCategories() {
            try {
                const response = await fetch('/assets/data/nyc-category-list.json');
                const data = await response.json();
                
                // Update title and description
                const nycCategoriesSection = document.getElementById('nyc-categories');
                const titleElement = nycCategoriesSection.querySelector('h2');
                titleElement.textContent = data.title;
                
                const descriptionElement = document.getElementById('nyc-categories-description');
                descriptionElement.textContent = data.description;
                
                // Get the table elements
                const thead = document.querySelector('#nyc-categories-table thead tr');
                const tbody = document.querySelector('#nyc-categories-table tbody');
                
                // Clear existing content
                thead.innerHTML = '';
                tbody.innerHTML = '';
                
                // Add headers
                data.headers.forEach(header => {
                    const th = document.createElement('th');
                    th.textContent = header.replace(/_/g, ' ')
                                       .split(' ')
                                       .map(word => word.charAt(0).toUpperCase() + word.slice(1))
                                       .join(' ');
                    thead.appendChild(th);
                });
                
                // Add rows
                data.rows.forEach(rowData => {
                    const tr = document.createElement('tr');
                    
                    [
                        rowData.category,
                        rowData.estimated_number.toLocaleString(),
                        rowData.percentage_of_total + '%',
                        rowData.estimation_method,
                        rowData.sources.map(source => 
                            `<a href="${source.url}" target="_blank">${source.text}</a>`
                        ).join(' ')
                    ].forEach(cellData => {
                        const td = document.createElement('td');
                        td.innerHTML = cellData;
                        tr.appendChild(td);
                    });
                    tbody.appendChild(tr);
                });
            } catch (error) {
                console.error('Error loading NYC categories data:', error);
                document.querySelector('#nyc-categories-table tbody').innerHTML = 
                    '<tr><td colspan="5">Error loading data. Please try again later.</td></tr>';
            }
        }

        async function loadNYCTimeline() {
            try {
                const response = await fetch('/assets/data/nyc-homeless-timeline.json');
                const data = await response.json();
                
                // Update title and description
                const nycTimelineSection = document.getElementById('nyc-timeline');
                const titleElement = nycTimelineSection.querySelector('h2');
                titleElement.textContent = data.title;
                
                const descriptionElement = document.getElementById('nyc-timeline-description');
                descriptionElement.textContent = data.description;
                
                // Get the table elements
                const thead = document.querySelector('#nyc-timeline-table thead tr');
                const tbody = document.querySelector('#nyc-timeline-table tbody');
                
                // Clear existing content
                thead.innerHTML = '';
                tbody.innerHTML = '';
                
                // Add headers
                data.headers.forEach(header => {
                    const th = document.createElement('th');
                    th.textContent = header.replace(/_/g, ' ')
                                       .split(' ')
                                       .map(word => word.charAt(0).toUpperCase() + word.slice(1))
                                       .join(' ');
                    thead.appendChild(th);
                });
                
                // Add rows
                data.rows.forEach(rowData => {
                    const tr = document.createElement('tr');
                    
                    [
                        rowData.year,
                        rowData.approximate_population.toLocaleString(),
                        rowData.percent_change_from_last ? `+${rowData.percent_change_from_last}%` : '-',
                        `${rowData.key_factors}`,
                        rowData.sources.map(source => 
                            `<a href="${source.url}" target="_blank">${source.text}</a>`
                        ).join(' ')
                    ].forEach(cellData => {
                        const td = document.createElement('td');
                        td.innerHTML = cellData;
                        tr.appendChild(td);
                    });
                    tbody.appendChild(tr);
                });
            } catch (error) {
                console.error('Error loading NYC timeline data:', error);
                document.querySelector('#nyc-timeline-table tbody').innerHTML = 
                    '<tr><td colspan="5">Error loading data. Please try again later.</td></tr>';
            }
        }

        async function loadSoupKitchens() {
            try {
                console.log('Attempting to fetch soup kitchen data...');
                const response = await fetch('/assets/data/nyc-soup-kitchen-list.json');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const data = await response.json();
                console.log('Soup kitchen data loaded successfully:', data);
                
                // Add description
                const descriptionElement = document.getElementById('soup-kitchen-description');
                descriptionElement.textContent = data.description;
                
                // Get the table elements
                const thead = document.querySelector('#soup-kitchen-table thead tr');
                const tbody = document.querySelector('#soup-kitchen-table tbody');
                
                // Clear existing content
                thead.innerHTML = '';
                tbody.innerHTML = '';
                
                // Add modified headers (excluding combined columns)
                const modifiedHeaders = ['Location', 'Contact', 'Notes'];
                
                modifiedHeaders.forEach(header => {
                    const th = document.createElement('th');
                    th.textContent = header;
                    thead.appendChild(th);
                });
                
                // Add rows with combined columns
                data.rows.forEach(rowData => {
                    const tr = document.createElement('tr');
                    
                    [
                        `${rowData.name}, ${rowData.borough}`,  // Location: name + borough
                        `${rowData.address}, ${rowData.phone}, <a href="${rowData.volunteer_link}" target="_blank">Volunteer</a>`,  // Contact: address + phone + volunteer link
                        `${rowData.days_open}: ${rowData.notes}`  // Notes: days_open + notes
                    ].forEach(cellData => {
                        const td = document.createElement('td');
                        td.innerHTML = cellData;
                        tr.appendChild(td);
                    });
                    tbody.appendChild(tr);
                });
            } catch (error) {
                console.error('Error loading soup kitchen data:', error);
                console.error('Error details:', error.message);
                document.querySelector('#soup-kitchen-table tbody').innerHTML = 
                    '<tr><td colspan="3">Error loading data. Please try again later.</td></tr>';
            }
        }

        // Update the DOMContentLoaded event listener
        document.addEventListener('DOMContentLoaded', () => {
            loadRootCauses();
            loadHUDAwards();
            loadNYCHomeless();
            loadNYCCategories();
            loadNYCTimeline();
            loadSoupKitchens();
            loadMovies();
            loadBooks();
        });
    </script>
</body>
</html>

